{% extends "sijaku/dashboard/base.html" %}
{% block dashboard_content %}
<div class="max-w-4xl mx-auto p-4">
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-3xl font-extrabold tracking-tight">Pemetaan Dosen-MK Tahun Akademik Aktif</h1>
    {% if tahun_aktif %}
      <a href="{% url 'pemetaan_tambah_mk' %}" class="btn btn-warning btn-sm shadow-md">Edit Mata Kuliah</a>
    {% endif %}
  </div>
  {% if not tahun_aktif %}
    <div class="alert alert-warning">Tidak ada tahun akademik aktif.</div>
  {% else %}
    <div class="mb-4">
      <span class="font-semibold">Tahun Akademik:</span> {{ tahun_aktif.tahun }} ({{ tahun_aktif.get_semester_display }})
    </div>
    <div class="overflow-x-auto rounded-xl shadow-lg bg-base-100">
      <table class="table table-zebra w-full">
        <thead class="bg-base-200 text-base-content">
          <tr>
            <th class="px-4 py-3 text-left">Mata Kuliah</th>
            <th class="px-4 py-3 text-left">Dosen Pengampu</th>
          </tr>
        </thead>
        <tbody>
          {% for p in pemetaan_list %}
          <tr class="hover">
            <td class="px-4 py-2">{{ p.matakuliah }}</td>
            <td class="px-4 py-2">{{ p.dosen_pengampu|default:'-' }}</td>
          </tr>
          {% empty %}
          <tr><td colspan="2" class="text-center py-6 text-base-content/60">Belum ada data pemetaan.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% endif %}
</div>
{% endblock %}
